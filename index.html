<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Marine Science AI — Benthic Species ID</title>

  <!-- Tailwind CSS (no build step) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- model-viewer web component (for AR/3D) -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

  <!-- Site styles -->
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="min-h-screen bg-slate-950 text-slate-100">
<!-- Header -->
<header class="sticky top-0 z-40 backdrop-blur supports-[backdrop-filter]:bg-slate-950/60 bg-slate-950/80 border-b border-slate-800">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
    <!-- Left: logo + site name -->
    <div class="flex items-center gap-3">
      <img
        src="content.png"
        alt="Marine Science AI Logo"
        class="h-13 w-auto object-contain"
        style="height: 70px;" 
      />
      <span class="font-semibold tracking-tight text-white">Marine Science AI</span>
    </div>

    <!-- Center: nav links -->
    <nav class="hidden md:flex items-center gap-6 text-sm text-slate-300">
      <a href="#features" class="hover:text-white">Features</a>
      <a href="#datasets" class="hover:text-white">Datasets</a>
      <a href="#demo" class="hover:text-white">Demo</a>
      <a href="#ar" class="hover:text-white">AR</a>
      <a href="#faq" class="hover:text-white">FAQ</a>
      <a href="crab.html" class="hover:text-white">Species Maps</a>
    </nav>

    <!-- Right: contact button -->
    <a href="#contact" class="inline-flex items-center rounded-2xl border border-cyan-500/50 px-3 py-1.5 text-sm text-cyan-300 hover:bg-cyan-500/10">
      Contact
    </a>
  </div>
</header>

</header>


<!-- Hero -->
<section class="relative overflow-hidden">
  <div class="absolute -top-40 -right-40 h-[30rem] w-[30rem] rounded-full bg-cyan-500/10 blur-3xl"></div>
  <div class="absolute -bottom-40 -left-40 h-[30rem] w-[30rem] rounded-full bg-blue-500/10 blur-3xl"></div>

  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-16 md:py-24 grid md:grid-cols-2 gap-10 items-center">
    <!-- Left text -->
    <div>
      <h1 class="text-4xl md:text-6xl font-extrabold tracking-tight leading-tight">
        AI for Benthic Species ID
      </h1>
      <p class="mt-4 text-slate-300 max-w-prose">
        Open-source tooling to classify and detect benthic organisms in underwater imagery.
        Built for hackathons, labs, and field teams who need fast, reliable triage.
      </p>
      <div class="mt-6 flex flex-wrap items-center gap-3">
        <a href="#demo" class="rounded-2xl bg-cyan-500 px-5 py-2.5 font-medium text-slate-950 hover:bg-cyan-400">Try the Demo</a>
        <a href="#features" class="rounded-2xl border border-slate-700 px-5 py-2.5 font-medium hover:border-slate-500">Explore Features</a>
        <a href="crab.html" class="rounded-2xl border border-cyan-500/50 px-5 py-2.5 font-medium text-cyan-300 hover:bg-cyan-500/10">Open Species Maps</a>
      </div>
      <div class="mt-6 text-xs text-slate-400">
        Tasks: Classification (7 species) · Detection (multi-object) · Offline-ready
      </div>
    </div>

    <!-- Right logo (clean, centered, no box) -->
    <div class="flex items-center justify-center">
      <img
        src="content.png"
        alt="Marine Science AI Logo"
        class="w-[480px] max-w-full object-contain"
      />
    </div>
  </div>
</section>

  <!-- Features -->
  <section id="features" class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-14">
    <h2 class="text-2xl md:text-3xl font-bold">Features</h2>
    <div class="mt-8 grid gap-6 md:grid-cols-3">
      <div class="rounded-2xl border border-slate-800 p-6 bg-gradient-to-b from-slate-900/40 to-slate-900">
        <div class="text-cyan-300 text-sm font-semibold">Image Classification</div>
        <p class="mt-2 text-sm text-slate-300">Predict one of 7 species from a single frame with confidence scores.</p>
      </div>
      <div class="rounded-2xl border border-slate-800 p-6 bg-gradient-to-b from-slate-900/40 to-slate-900">
        <div class="text-cyan-300 text-sm font-semibold">Object Detection</div>
        <p class="mt-2 text-sm text-slate-300">Localize multiple organisms with bounding boxes and labels.</p>
      </div>
      <div class="rounded-2xl border border-slate-800 p-6 bg-gradient-to-b from-slate-900/40 to-slate-900">
        <div class="text-cyan-300 text-sm font-semibold">Batch Processing</div>
        <p class="mt-2 text-sm text-slate-300">Drag-and-drop a folder; export CSV/COCO and annotated overlays.</p>
      </div>
      <div class="rounded-2xl border border-slate-800 p-6 bg-gradient-to-b from-slate-900/40 to-slate-900">
        <div class="text-cyan-300 text-sm font-semibold">Robust to Turbidity</div>
        <p class="mt-2 text-sm text-slate-300">Preprocessing tuned for low-light, haze, and marine snow.</p>
      </div>
      <div class="rounded-2xl border border-slate-800 p-6 bg-gradient-to-b from-slate-900/40 to-slate-900">
        <div class="text-cyan-300 text-sm font-semibold">Model Zoo</div>
        <p class="mt-2 text-sm text-slate-300">Swap between accuracy/speed profiles (Mobile, Standard, Max).</p>
      </div>
      <div class="rounded-2xl border border-slate-800 p-6 bg-gradient-to-b from-slate-900/40 to-slate-900">
        <div class="text-cyan-300 text-sm font-semibold">Privacy by Default</div>
        <p class="mt-2 text-sm text-slate-300">All on-device; no images leave your browser unless you export.</p>
      </div>
    </div>
  </section>

  <!-- Datasets -->
  <section id="datasets" class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-14">
    <div class="flex items-end justify-between gap-4">
      <h2 class="text-2xl md:text-3xl font-bold">Datasets</h2>
      <a href="#" class="text-sm text-cyan-300 hover:underline">View schema</a>
    </div>
    <div class="mt-8 grid gap-6 md:grid-cols-2">
      <div class="rounded-2xl border border-slate-800 p-6">
        <div class="text-cyan-300 text-sm font-semibold">Classification</div>
        <p class="mt-1 text-sm text-slate-300">6×1,500 images (2015 & 2022) + 1,500 eel images.</p>
        <div class="mt-4 text-xs text-slate-400">Label format: <code class="bg-slate-900 px-1 py-0.5 rounded">image.jpg Species</code></div>
      </div>
      <div class="rounded-2xl border border-slate-800 p-6">
        <div class="text-cyan-300 text-sm font-semibold">Detection</div>
        <p class="mt-1 text-sm text-slate-300">COCO-style JSON with bounding boxes, multi-species per image.</p>
        <div class="mt-4 text-xs text-slate-400">Export: PNG overlays · CSV · COCO</div>
      </div>
    </div>
  </section>

  <!-- Demo + Bridge -->
  <section id="demo" class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-14">
    <div class="rounded-3xl border border-slate-800 p-6 md:p-8 bg-slate-900/50">
      <div class="flex items-center justify-between gap-4 flex-wrap">
        <h2 class="text-2xl md:text-3xl font-bold">Browser Demo</h2>
        <button id="btn-pick" class="rounded-2xl bg-cyan-500 px-4 py-2.5 font-medium text-slate-950 hover:bg-cyan-400">Upload an Image</button>
        <input id="file-input" type="file" accept="image/*" class="hidden" />
      </div>

      <div id="demo-empty" class="mt-6 rounded-xl border border-dashed border-slate-700 p-8 text-center text-slate-400">
        Drop an image here or click “Upload an Image” to begin.
      </div>

      <div id="demo-grid" class="mt-6 grid lg:grid-cols-3 md:grid-cols-2 gap-6 hidden">
        <div class="rounded-2xl overflow-hidden border border-slate-800">
          <img id="img-preview" alt="Preview" class="w-full h-full object-cover" />
        </div>
        <div class="rounded-2xl border border-slate-800 p-4">
          <div class="text-sm text-slate-400">Selected file</div>
          <div id="file-name" class="text-sm font-medium">—</div>
          <div class="mt-4 text-sm text-slate-300">Run on-device model to get species probabilities.</div>
          <div id="pred-list" class="mt-4 grid grid-cols-2 gap-3 text-xs"></div>
          <button id="btn-analyze" class="mt-4 rounded-2xl bg-cyan-500 px-4 py-2.5 font-medium text-slate-950 hover:bg-cyan-400">Analyze</button>
          <button id="btn-view-map" disabled class="mt-2 rounded-2xl border border-cyan-500/40 px-4 py-2 text-sm text-cyan-300 disabled:opacity-40">View Top Species on Map</button>
        </div>
        <div class="rounded-2xl border border-slate-800 p-4 flex flex-col">
          <div class="text-sm text-slate-400">AI Description</div>
          <p id="ai-text" class="mt-2 text-sm text-slate-300 min-h-[4rem] whitespace-pre-wrap">
            Click Analyze to generate a short species description based on the top prediction.
          </p>
          <div class="mt-auto flex gap-2">
            <button id="btn-reanalyze" class="rounded-2xl border border-slate-700 px-3 py-2 text-sm hover:border-slate-500">Re-analyze</button>
            <button id="btn-copy" disabled class="rounded-2xl px-3 py-2 text-sm bg-slate-800 text-slate-500 cursor-not-allowed">Copy</button>
          </div>
        </div>
      </div>

      <details class="mt-6 rounded-xl border border-slate-800 p-4">
        <summary class="cursor-pointer list-none">
          <div class="flex items-center justify-between">
            <span class="font-medium text-slate-200">Developer: Quick Open Species</span>
            <span class="text-slate-500">▾</span>
          </div>
        </summary>
        <div class="mt-3 flex flex-wrap gap-2 text-sm">
          <button class="rounded-xl border border-slate-700 px-3 py-1.5" onclick="goToSpecies('Blue Crab')">Blue Crab</button>
          <button class="rounded-xl border border-slate-700 px-3 py-1.5" onclick="goToSpecies('Dungeness Crab')">Dungeness Crab</button>
          <button class="rounded-xl border border-slate-700 px-3 py-1.5" onclick="goToSpecies('European Eel')">European Eel</button>
          <button class="rounded-xl border border-slate-700 px-3 py-1.5" onclick="goToSpecies('Japanese Eel')">Japanese Eel</button>
          <button class="rounded-xl border border-slate-700 px-3 py-1.5" onclick="goToSpecies('Summer Flounder (Fluke)')">Summer Flounder</button>
          <button class="rounded-xl border border-slate-700 px-3 py-1.5" onclick="goToSpecies('Atlantic Cod')">Atlantic Cod</button>
        </div>
      </details>
    </div>
  </section>

  <!-- AR Section -->
  <section id="ar" class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-14">
    <div class="rounded-3xl border border-slate-800 p-6 md:p-8 bg-slate-900/50">
      <div class="flex items-center justify-between gap-4 flex-wrap">
        <h2 class="text-2xl md:text-3xl font-bold">AR Lab — 3D Marine Species</h2>
        <div class="text-xs text-slate-400">Tip: On iOS tap <span class="font-semibold">AR</span> to place in your room. On Android use Scene Viewer.</div>
      </div>
      <div class="mt-6 grid md:grid-cols-2 gap-6 items-start">
        <div class="rounded-2xl border border-slate-800 overflow-hidden">
          <model-viewer
            id="mv"
            src="https://modelviewer.dev/shared-assets/models/RobotExpressive.glb"
            ios-src="https://modelviewer.dev/shared-assets/models/RobotExpressive.usdz"
            ar ar-modes="webxr scene-viewer quick-look"
            camera-controls auto-rotate shadow-intensity="1" exposure="1"
            class="w-full" style="width:100%;height:420px">
            <button slot="ar-button" class="m-3 rounded-2xl bg-cyan-500 px-4 py-2.5 font-medium text-slate-950 hover:bg-cyan-400">View in AR</button>
          </model-viewer>
        </div>
        <div class="rounded-2xl border border-slate-800 p-4">
          <div class="text-sm text-slate-400">Selected species</div>
          <div id="mv-species-name" class="text-xl font-semibold">Scallop</div>
          <p id="mv-species-blurb" class="mt-2 text-sm text-slate-300">Bivalve mollusk found on sandy/gravel seabeds; fan-shaped shell with radiating ribs.</p>
          <div class="mt-4 grid grid-cols-2 gap-3 text-xs">
            <div class="rounded-xl border border-slate-800 p-3"><div class="text-slate-400">Typical habitat</div><div>Sandy/soft bottoms, 20–120 m</div></div>
            <div class="rounded-xl border border-slate-800 p-3"><div class="text-slate-400">Size</div><div>~10–80 cm depending on species</div></div>
            <div class="rounded-xl border border-slate-800 p-3"><div class="text-slate-400">ID cues</div><div>Silhouette, shell/ray patterning, appendages</div></div>
            <div class="rounded-xl border border-slate-800 p-3"><div class="text-slate-400">IUCN</div><div>Varies by species</div></div>
          </div>
          <div class="mt-5">
            <div class="text-sm text-slate-400 mb-2">Choose a species</div>
            <div id="mv-chooser" class="flex flex-wrap gap-2"></div>
          </div>
        </div>
      </div>
      <div class="mt-6 text-xs text-slate-400">*Replace placeholder models with GLB/USDZ files of your species.</div>
    </div>
  </section>

  <!-- FAQ, Contact, Footer (unchanged) -->
  <section id="faq" class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-14">
    <h2 class="text-2xl md:text-3xl font-bold">FAQ</h2>
    <div class="mt-6 grid gap-4">
      <details class="group rounded-2xl border border-slate-800 p-4">
        <summary class="cursor-pointer list-none">
          <div class="flex items-center justify-between"><span class="font-medium text-slate-200 group-open:text-white">Can I swap models?</span><span class="text-slate-500">▾</span></div>
        </summary>
        <p class="mt-2 text-sm text-slate-300">Yes. Organize weights under /models and expose a selector for Mobile/Standard/Max.</p>
      </details>
      <details class="group rounded-2xl border border-slate-800 p-4">
        <summary class="cursor-pointer list-none">
          <div class="flex items-center justify-between"><span class="font-medium text-slate-200 group-open:text-white">What about low-light?</span><span class="text-slate-500">▾</span></div>
        </summary>
        <p class="mt-2 text-sm text-slate-300">Enable denoise + CLAHE in a preprocessing step before inference.</p>
      </details>
      <details class="group rounded-2xl border border-slate-800 p-4">
        <summary class="cursor-pointer list-none">
          <div class="flex items-center justify-between"><span class="font-medium text-slate-200 group-open:text-white">Will this run offline?</span><span class="text-slate-500">▾</span></div>
        </summary>
        <p class="mt-2 text-sm text-slate-300">Yes, use WebGL/WebGPU backends; cache assets with a PWA service worker.</p>
      </details>
      <details class="group rounded-2xl border border-slate-800 p-4">
        <summary class="cursor-pointer list-none">
          <div class="flex items-center justify-between"><span class="font-medium text-slate-200 group-open:text-white">How do I deploy?</span><span class="text-slate-500">▾</span></div>
        </summary>
        <p class="mt-2 text-sm text-slate-300">Push to GitHub, connect to Vercel/Netlify, add a custom domain, and you’re live.</p>
      </details>
    </div>
  </section>

  <section id="contact" class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-14">
    <div class="rounded-2xl border border-slate-800 p-6 grid md:grid-cols-2 gap-6">
      <div>
        <h2 class="text-2xl md:text-3xl font-bold">Get involved</h2>
        <p class="mt-2 text-slate-300">Have datasets or field footage to share? Want to collaborate on the model? Drop a note.</p>
      </div>
      <form class="grid gap-3">
        <input placeholder="Name" class="rounded-xl bg-slate-900 border border-slate-800 px-3 py-2 outline-none focus:ring-2 focus:ring-cyan-500" />
        <input placeholder="Email" type="email" class="rounded-xl bg-slate-900 border border-slate-800 px-3 py-2 outline-none focus:ring-2 focus:ring-cyan-500" />
        <textarea placeholder="Message" rows="4" class="rounded-xl bg-slate-900 border border-slate-800 px-3 py-2 outline-none focus:ring-2 focus:ring-cyan-500"></textarea>
        <button type="button" class="justify-self-start rounded-2xl bg-cyan-500 px-4 py-2.5 font-medium text-slate-950 hover:bg-cyan-400">Send</button>
      </form>
    </div>
  </section>

  <footer class="border-t border-slate-800 py-6">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 text-xs text-slate-500 flex flex-wrap items-center justify-between gap-3">
      <span>© <span id="year"></span> Marine Science AI</span>
      <div class="flex items-center gap-4">
        <a class="hover:text-slate-300" href="#">Privacy</a>
        <a class="hover:text-slate-300" href="#">Terms</a>
        <a class="hover:text-slate-300" href="#">GitHub</a>
      </div>
    </div>
  </footer>

  <script src="assets/bridge.js"></script>
  <script>
    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Demo wiring (placeholder). Replace with real model inference later.
    const btnPick = document.getElementById('btn-pick');
    const fileInput = document.getElementById('file-input');
    const demoEmpty = document.getElementById('demo-empty');
    const demoGrid = document.getElementById('demo-grid');
    const imgPreview = document.getElementById('img-preview');
    const fileName = document.getElementById('file-name');
    const predList = document.getElementById('pred-list');
    const btnAnalyze = document.getElementById('btn-analyze');
    const btnViewMap = document.getElementById('btn-view-map');
    const aiText = document.getElementById('ai-text');

    let topPrediction = null;

    btnPick.addEventListener('click', ()=> fileInput.click());
    fileInput.addEventListener('change', (e)=>{
      const f = e.target.files && e.target.files[0];
      if(!f) return;
      fileName.textContent = f.name;
      const url = URL.createObjectURL(f);
      imgPreview.src = url;
      demoEmpty.classList.add('hidden');
      demoGrid.classList.remove('hidden');
      predList.innerHTML = '';
      btnViewMap.disabled = true;
      topPrediction = null;
    });

    // Fake inference: rotate through a short list so the bridge can be tested without a model.
    const demoSpecies = ['Blue Crab','European Eel','Summer Flounder (Fluke)','Atlantic Cod','Japanese Eel','Dungeness Crab'];

    function renderPredictions() {
      predList.innerHTML = '';
      const shuffled = demoSpecies.slice().sort(()=>Math.random()-0.5).slice(4);
      const preds = shuffled.map((name, i)=>({name, prob: (0.55 - i*0.1)}));
      topPrediction = preds[0]?.name || null;
      preds.forEach(p=>{
        const item = document.createElement('div');
        item.className='rounded-xl border border-slate-800 p-3';
        item.innerHTML = `<div class="font-medium">${p.name}</div><div class="text-slate-400 mt-1">${(p.prob*100).toFixed(1)}%</div>`;
        item.onclick = ()=>{ topPrediction=p.name; btnViewMap.disabled=false; };
        predList.appendChild(item);
      });
      aiText.textContent = topPrediction ? `Top prediction: ${topPrediction}. Click "View Top Species on Map" to see hotspots & migration.` : 'No prediction.';
      btnViewMap.disabled = !topPrediction;
    }

    btnAnalyze.addEventListener('click', renderPredictions);
    document.getElementById('btn-reanalyze').addEventListener('click', renderPredictions);
    document.getElementById('btn-copy').addEventListener('click', ()=>{
      if(!topPrediction) return;
      navigator.clipboard.writeText(aiText.textContent);
    });
    btnViewMap.addEventListener('click', ()=>{
      if(topPrediction) goToSpecies(topPrediction);
    });

    // Build quick chooser in AR panel (optional)
    const chooser = document.getElementById('mv-chooser');
    if (chooser) {
      ['Blue Crab','European Eel','Japanese Eel','Atlantic Cod'].forEach(n=>{
        const b=document.createElement('button');
        b.className='rounded-xl border border-slate-700 px-3 py-1.5 text-sm hover:border-slate-500';
        b.textContent=n;
        b.onclick=()=>goToSpecies(n);
        chooser.appendChild(b);
      });
    }
  </script>
</body>
</html>
